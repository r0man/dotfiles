#!/usr/bin/env bash
#
# ~/.xprofile
#

# Setup xrandr
xrandr --listproviders
xrandr --setprovideroutputsource modesetting NVIDIA-0
# xrandr --setprovideroutputsource modesetting NVIDIA-G0
xrandr --auto

# X Resources
[ -f ~/.Xresources ] && xrdb -all -load ~/.Xresources
XRESOURCES_HOST=~/.Xresources.$(hostname)
[ -f $XRESOURCES_HOST ] && xrdb -merge $XRESOURCES_HOST
xrdb -query -all

# # Set color profile

# export COLOR_PROFILE="$HOME/.color-profiles/color-lcd-46fa2088-5175-1712-04a4-8183272cf248.icc"

# if [ -f $COLOR_PROFILE ]; then
#     xcalib $COLOR_PROFILE
#     echo "Loaded color profile."
# fi

# Start composite, a compositor for X11.
#compton &

# Dunst
killall dunst; dunst &

# Use a better mouse pointer
xsetroot -cursor_name left_ptr

# Keyboard
~/.dotfiles/bin/setup-keyboard

# Load xmodmap
[ -f ~/.xmodmaprc ] && xmodmap ~/.xmodmaprc

# Start Music Player Daemon.
mpd &

# Start Redshift
systemctl --user start redshift

# Hide mouse cursor when idle.
unclutter -idle 5 -noevents &

# Start the screensaver
xscreensaver -no-splash &

# Start xbindkeys - a grabbing keys program for X.
xbindkeys

# Setup external monitor.
~/.dotfiles/bin/external-monitor

# Set wallpaper
feh --bg-scale ~/.dotfiles/wallpapers/stop-customizing-start-working.jpg
